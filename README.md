## A股大王开发文档

#### 技术栈

- Web框架: FastAPI
- 数据库: MySQL
- ORM: SQLAlchemy
- 缓存: Redis
- 部署: Docker

### 后端部分

#### 已完成功能

1. **数据库设计与实现**
   - 使用 SQLAlchemy 异步ORM
   - 实现了交易日历数据库（trade_calendar）
   - 实现了股票基本信息数据库（stock_basic）
   - 实现了股票日线数据库（stock_daily）

2. **交易日历系统**
   - POST `/calendar/trading-days`：获取指定交易所的交易日历数据
   - POST `/calendar/latest-trading-day`：查询最新交易日
   - 支持多交易所配置
   - 实现了数据缓存机制

3. **核心框架搭建**
   - 统一的响应格式 (APIResponse)
   - 全局异常处理
   - 日志系统 (loguru)
   - 数据模型验证 (Pydantic)
   - 异步数据库操作

4. **股票数据系统**
   - POST `/stock/info`：基本信息查询
   - POST `/stock/daily`：日线数据获取
   - 数据缓存与更新策略

5. **用户系统**
   - POST `/user/register`：用户注册
   - POST `/user/login`：用户登录
   - POST `/user/profile`：获取用户资料
   - 权限管理

6. **数据获取模块**
   - 实现了高可靠性数据查询重试机制
   - 支持大规模数据批量更新功能
   - 优化了数据获取性能

7. **系统优化**
   - 实现了高效通用Redis缓存层装饰器
   - 优化了资源利用率
   - 提升了系统整体响应速度

#### 进行中功能

1. **自选股管理系统**
   - 完善自选股数据库设计
   - 开发自选股API（添加、删除、查询）
   - 实现自选股列表实时更新

#### 待实现功能

1. **数据获取模块升级**
   - 替换akshare依赖，实现全异步数据获取架构
   - 构建自定义数据爬取引擎
   - 增强数据处理管道

2. **系统监控与优化**
   - 实时性能监控仪表盘
   - 系统资源使用分析
   - 自动化性能调优

### 前端部分

#### 待实现功能

1. **数据展示系统**
   - 股票查询窗口
   - K线图表展示
   - 股票日线数据可视化
   - 技术指标展示

2. **用户界面设计**
   - 登录与注册界面
   - 深色/浅色主题切换
   - 中式/美式K线样式切换（涨跌颜色）
   - 响应式布局适配

3. **功能模块**
   - 技术指标配置面板
   - 自选股管理界面
   - 历史查询记录
   - 数据导出功能

4. **用户体验优化**
   - 加载状态提示
   - 错误信息展示
   - 操作引导提示
   - 快捷键支持

### API 设计
API 文档默认访问路径为：http://<host>:<port>/api/v1/docs
前端调用接口时，请务必带上 /api/v1 前缀
所有接口统一采用 POST 方法，使用 JSON 作为数据交换格式。每个接口都返回统一的 APIResponse 格式：
```json
{
    "status": 0,          // 0表示成功，非0表示错误
    "data": {},           // 实际返回的数据
    "statusInfo": {
        "message": "",    // 状态信息
        "detail": {}      // 详细信息
    }
}
